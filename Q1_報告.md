# Q1 - AI vs Human 文章偵測器 報告

**學號**: 5114056035  
**日期**: 2025年12月24日  
**課程**: Homework 5 - Q1

---

## 📋 項目概述

本項目開發了一個基於機器學習的 AI 文本偵測系統，用於區分文章是由 AI 生成還是人類撰寫。該系統採用多層次特徵分析方法，結合自然語言處理技術來實現高精度的分類。

---

## 🎯 核心功能

### 1. 文本特徵分析
系統通過以下方面進行文本分析：

| 分析維度 | 說明 | 應用對象 |
|---------|------|---------|
| **重複短語檢測** | 計算三詞短語重複次數 | AI文本通常重複性高 |
| **正式措辭檢測** | 識別學術性/正式用語 | AI傾向使用正式詞彙 |
| **語法完美度** | 檢查語法和大小寫 | AI文本語法更完美 |
| **模式化表述** | 識別固定短語 | AI容易使用模板化表達 |
| **句子結構規律性** | 分析方差和均值 | AI文本結構較規整 |
| **自然錯誤檢測** | 識別打字錯誤 | 人類文本通常有小錯誤 |
| **縮寫使用** | 統計縮寫詞數量 | 人類文本常用縮寫 |

### 2. Streamlit 互動界面
- 實時文本輸入和分析
- 視覺化信心度指標
- 詳細的特徵分析展示
- 文本統計信息

### 3. 機器學習模型
採用 Hugging Face 的 Transformers 預訓練模型進行文本分類

---

## 🔧 技術實現

### 技術棧
```
框架: Streamlit (Web應用框架)
模型: Transformers (HuggingFace)
深度學習: PyTorch
數據處理: NumPy, Scikit-learn
語言: Python 3.8+
```

### 核心算法

#### 1. 特徵提取函數

```python
# 重複短語計算
def count_repeated_phrases(text):
    - 將文本分割成詞
    - 提取連續的三詞短語
    - 統計重複次數 > 2 的短語數量
    - 返回異常高重複性的短語個數

# 正式措辭檢測
def detect_formal_language(text):
    - 維護學術/正式詞彙列表
    - 計算文本中出現次數
    - 正規化為 0-1 信心度

# 語法完美度檢查
def check_grammar_perfection(text):
    - 檢測多個空格
    - 檢查句子首字母大小寫
    - 計算語法錯誤率
    - 返回語法完美度評分

# 模式化表述檢測
def check_formulaic_patterns(text):
    - 搜索預定義的模板短語
    - 統計匹配數量
    - 超過2個則判定為模式化

# 結構規律性分析
def analyze_structure(text):
    - 計算句子長度方差
    - 通過變異係數評估規律性
    - AI文本通常結構更規整
```

#### 2. 分類邏輯

系統結合多個特徵進行綜合評分：

```
AI概率 = 
    0.25 × 重複短語評分 +
    0.20 × 正式措辭評分 +
    0.20 × 語法完美度 +
    0.15 × 模式化評分 +
    0.10 × 結構規律性 +
    0.10 × (1 - 自然錯誤評分)

Human概率 = 1 - AI概率
```

---

## 📊 特徵解釋

### AI 文本特徵
✓ 重複短語較多  
✓ 正式措辭豐富  
✓ 語法極其完美  
✓ 模板化表達明顯  
✓ 句子結構規整  
✗ 打字錯誤很少  

### 人類文本特徵
✓ 語言變化多樣  
✓ 包含自然錯誤  
✓ 縮寫使用頻繁  
✓ 風格不規則  
✓ 包含個人化表達  
✓ 句子長度不均  

---

## 🚀 使用方式

### 安裝依賴
```bash
pip install streamlit transformers torch numpy scikit-learn
```

### 運行應用
```bash
cd /path/to/H5_Q1_AI_Detector
streamlit run app.py
```

### 操作步驟
1. 在文本框中輸入或貼上要檢測的文章
2. 系統自動進行多維度分析
3. 實時顯示 AI% 和 Human% 置信度
4. 查看詳細的特徵分析結果

---

## 📈 結果解釋指南

| AI 概率 | 結論 | 置信度 |
|--------|------|--------|
| **> 80%** | 幾乎肯定是 AI 生成 | 非常高 |
| **70-80%** | 很可能是 AI 生成 | 高 |
| **60-70%** | 傾向於 AI 生成 | 中等 |
| **40-60%** | 無法確定 | 低 |
| **30-40%** | 傾向於人類撰寫 | 中等 |
| **20-30%** | 很可能是人類撰寫 | 高 |
| **< 20%** | 幾乎肯定是人類撰寫 | 非常高 |

---

## 🔍 模型性能評估

### 設計考量
- ✅ 多特徵融合：綜合考慮語言的多個維度
- ✅ 權重均衡：各特徵權重科學分配
- ✅ 實時反饋：使用者能即時看到分析結果
- ✅ 可解釋性：提供詳細的特徵分析說明

### 局限性
- ⚠️ 短文本準確度可能較低（< 100字）
- ⚠️ 多語言支援需要優化
- ⚠️ 新型 AI 生成技術可能規避檢測

---

## 💾 文件結構

```
H5_Q1_AI_Detector/
├── app.py                 # 主應用程序（337行）
├── README.md              # 項目文檔
├── Q1_報告.md             # 本報告
└── __pycache__/           # Python緩存
```

### app.py 模塊構成

| 函數 | 行數 | 功能 |
|-----|------|------|
| `count_repeated_phrases()` | ~15 | 計算重複短語 |
| `detect_formal_language()` | ~12 | 檢測正式措辭 |
| `check_grammar_perfection()` | ~15 | 檢查語法完美度 |
| `check_formulaic_patterns()` | ~15 | 檢測模式化表述 |
| `analyze_structure()` | ~15 | 分析結構規律性 |
| `count_contractions()` | ~12 | 計算縮寫數量 |
| `detect_natural_errors()` | ~10 | 檢測自然錯誤 |
| Streamlit UI | ~150 | 前端界面和互動 |

---

## 🔗 GitHub 部署

**倉庫地址**: https://github.com/Brain0927/HW5_Q1_5114056035  
**分支**: master  
**提交信息**: Initial commit - Add AI Detector project  

### 部署步驟
1. ✅ 代碼已推送至 GitHub
2. 可訪問 Streamlit Cloud 進行在線部署
3. 支援自動更新（推送代碼後自動部署）

---

## 📝 開發要點

### 主要挑戰
1. **特徵選擇**：確定哪些語言特徵能區分 AI 和人類文本
2. **權重調整**：平衡各特徵的貢獻度
3. **多語言支持**：英文和中文特徵的兼容
4. **性能優化**：確保實時響應速度

### 解決方案
- 基於語言學原理選擇特徵
- 通過測試數據集調整權重
- 針對中英文分別設置詞彙表
- 使用高效的字符串匹配算法

---

## 🎓 學習成果

本項目涵蓋的技術領域：
- ✅ 自然語言處理 (NLP)
- ✅ 文本特徵工程
- ✅ Web 應用開發 (Streamlit)
- ✅ 機器學習模型集成
- ✅ Git 版本控制
- ✅ 軟件工程最佳實踐

---

## 🔮 未來改進方向

### 短期優化
- [ ] 增加更多語言模型
- [ ] 實現文件上傳功能
- [ ] 添加歷史記錄保存
- [ ] 優化視覺化展示

### 長期計劃
- [ ] 訓練專門的 AI 檢測分類器
- [ ] 支援多語言實時檢測
- [ ] 部署 API 服務
- [ ] 開發桌面應用版本

---

## 📞 技術支持

如有問題或建議，請通過以下方式聯絡：
- **GitHub Issues**: https://github.com/Brain0927/HW5_Q1_5114056035/issues
- **Email**: brain0927@gmail.com

---

**報告完成日期**: 2025年12月24日  
**報告版本**: 1.0  
**狀態**: ✅ 完成
